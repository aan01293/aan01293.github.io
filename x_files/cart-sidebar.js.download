jQuery(document).ready(function(jQuery2){jQuery2(".swatch-option").on("click",function(){jQuery2(this).closest(".swatch-attribute-options").children(".swatch-option").removeClass("selected"),jQuery2(this).addClass("selected"),jQuery2(this).closest(".swatch-attribute").children(".swatch-attribute-selected-option").text(jQuery2(this).children("label").text())}),jQuery2(".open-shoppint-cart").on("click",function(){jQuery2(".cart-sidebar").addClass("_show"),jQuery2(".overlay").show()}),jQuery2(".close-shoppint-cart").on("click",function(){jQuery2(".cart-sidebar").removeClass("_show"),jQuery2(".overlay").hide()}),jQuery2(".overlay").on("click",function(){jQuery2(".cart-sidebar").removeClass("_show"),jQuery2(".overlay").hide()}),jQuery2(".add-to-cart").on("click",function(e){cart_sidebar_open();var form=jQuery2(this).closest("form"),cold_pack_status=jQuery2(this).data("cold-pack"),free_gift_status=jQuery2(this).data("free-gift");jQuery2.ajax({type:"POST",url:"/cart/add.js",data:form.serialize(),dataType:"json",success:function(cart){cold_pack_status==!0&&cold_pack_init(),klaviyo(cart),free_gift==!0&&(free_gift_type=="tag"?free_gift_status==!0&&free_gift_by_tag():free_gift_by_ammount()),cart_sidebar_update()},error:function(xhr,text){jQuery2(".cart-sidebar-error-message").show(),jQuery2(".cart-sidebar-error-message").text(jQuery2.parseJSON(xhr.responseText).description),cart_sidebar_update(),jQuery2(".cart-sidebar .cart-sidebar-loading").hide()}}),e.preventDefault()}),jQuery2("#gift-message-save").on("click",function(e){var gift_message=jQuery2("#gift-message").val();jQuery2.ajax({type:"POST",url:"/cart/update.js",data:{note:gift_message},dataType:"json",success:function(){cart_sidebar_update(),jQuery2(".gift-message-success").show(),jQuery2(".cart-sidebar .cart-sidebar-loading").hide()},error:function(xhr,text){jQuery2(".cart-sidebar-error-message").show(),jQuery2(".cart-sidebar-error-message").text(jQuery2.parseJSON(xhr.responseText).description),cart_sidebar_update(),jQuery2(".cart-sidebar .cart-sidebar-loading").hide()}}),e.preventDefault()}),document.addEventListener("rebuy.add",function(){cart_sidebar_open(),cart_sidebar_update()});function cart_sidebar_open(){jQuery2(".cart-sidebar").addClass("_show _loading"),jQuery2("html, body").animate({scrollTop:jQuery2(".cart-sidebar").offset().top},0)}function cart_sidebar_update(){jQuery2.getJSON("/cart.js",function(cart){console.log(cart),cart_sidebar_update_mini_cart(cart),cart_sidebar_update_product(cart),cart_sidebar_update_totals(cart),jQuery2(".cart-sidebar").removeClass("_loading"),jQuery2(".cart-sidebar").removeClass("is_empty"),jQuery2(".cart-items").removeClass("_loading"),jQuery2(".cart-items").removeClass("is_empty"),cart.item_count==0&&jQuery2(".cart-sidebar").addClass("is_empty")})}function cart_sidebar_update_mini_cart(cart){jQuery2(".mini-cart span").text(cart.item_count),jQuery2(".total-items-in-cart p").text(cart.item_count)}function cold_pack_init(){cold_pack==!0&&jQuery2.getJSON("/cart.js",function(cart){cold_pack_adding(cart)})}function cold_pack_adding(cart){var cold_pack_added=!1;if(cart.item_count>0){for(var i=0;i<cart.items.length;i++)if(cart.items[i].variant_id==cold_pack_variant)var cold_pack_added=!0}cold_pack_added==!1&&$.ajax({type:"POST",url:"/cart/add.js",data:{quantity:cold_pack_qty,id:cold_pack_variant},dataType:"json",success:function(data){cart_sidebar_update(),klaviyo(data)}})}function cold_pack_remove_init(){cold_pack==!0&&jQuery2.getJSON("/cart.js",function(cart){cold_pack_remove(cart)})}function cold_pack_remove(cart){if(cart.item_count>0){for(var id=0,remove_cold_pack=!0,i=0;i<cart.items.length;i++){if(cart.items[i].variant_id==cold_pack_variant)var id=cart.items[i].id;if(cart.items[i].product_type=="Fridge Freezer")var remove_cold_pack=!1}remove_cold_pack==!0&&id>0&&jQuery2.ajax({type:"POST",url:"/cart/change.js",data:"quantity=0&id="+id,dataType:"json",success:function(){cart_sidebar_update()}})}}function free_gift_by_tag(){free_gift==!0&&jQuery2.getJSON("/cart.js",function(cart){free_gift_adding(cart)})}function free_gift_by_ammount(){free_gift==!0&&jQuery2.getJSON("/cart.js",function(cart){var cold_pack_added=!1;if(cart.item_count>0){for(var i=0;i<cart.items.length;i++)if(cart.items[i].variant_id==cold_pack_variant)var cold_pack_added=!0}cold_pack_added==!0&&(cart_total=cart.total_price/100,cart_total>free_gift_amount&&free_gift_adding(cart))})}function free_gift_adding(cart){var free_gift_added=!1;if(cart.item_count>0){for(var i=0;i<cart.items.length;i++)if(cart.items[i].variant_id==free_gift_variant)var free_gift_added=!0}free_gift_added==!1&&$.ajax({type:"POST",url:"/cart/add.js",data:{quantity:free_gift_qty,id:free_gift_variant},dataType:"json",success:function(data){cart_sidebar_update(),klaviyo(data)}})}function cart_sidebar_update_free_shipping(cart){}function cart_sidebar_update_product(cart){var template='<li class="__cart_sidebar_{ID} __cart_sidebar_item_{PRODUCT_ID}" data-id="{ID}"><div class="cart-item-wrap"><div class="cart-item-image"><a href="{URL}"><img src="{IMAGE}" alt="" width="75"/></a></div><div class="cart-item-details"><a href="{URL}"><h3>{NAME}</h3></a><p class="cart-item-price"><span>{ORIGINAL_PRICE}</span> {PRICE}</p><select name="qty" id="qty_{ID}" data-id="{ID}" class="shoppingcart-item-qty"><option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5">5</option><option value="6">6</option><option value="7">7</option><option value="8">8</option><option value="9">9</option><option value="10">10</option><option value="11">11</option><option value="12">12</option><option value="13">13</option><option value="14">14</option><option value="15">15</option><option value="16">16</option><option value="17">17</option><option value="18">18</option><option value="19">19</option><option value="20">20</option><option value="21">21</option><option value="22">22</option><option value="23">23</option><option value="24">24</option></select><a href="javascript:;" data-id="{ID}" class="remove-from-cart shoppingcart-remove-item"></a></div></div></li>',ProductList=jQuery2(".shopping-cart-items");if(cart.item_count>0){for(var i=0;i<cart.items.length;i++){if(cart.items[i].image)var __image_url=cart.items[i].image,__image_url_array=__image_url.split("."),__image_url_replace="."+__image_url_array[__image_url_array.length-1],__image_url_new="_100x100."+__image_url_array[__image_url_array.length-1],__image_url_final=__image_url.replace(__image_url_replace,__image_url_new);else var __image_url_final="https://cdn.shopify.com/s/files/1/0612/9260/9676/files/logo_150x.png";i==0&&ProductList.html("");var original_price="";if(cart.items[i].original_price!=cart.items[i].final_price)var original_price=Shopify.formatMoney(cart.items[i].original_price);var item=template;item=item.replace(/\{ID\}/g,cart.items[i].id),item=item.replace(/\{PRODUCT_ID\}/g,cart.items[i].product_id),item=item.replace(/\{URL\}/g,cart.items[i].url),item=item.replace(/\{NAME\}/g,cart.items[i].product_title),item=item.replace(/\{VARIANT\}/g,cart.items[i].variant_title||""),item=item.replace(/\{QUANTITY\}/g,cart.items[i].quantity),item=item.replace(/\{IMAGE\}/g,__image_url_final),item=item.replace(/\{PRICE\}/g,Shopify.formatMoney(cart.items[i].final_price)),item=item.replace(/\{ORIGINAL_PRICE\}/g,original_price),ProductList.append(item)}cart_sidebar_update_dropdown(cart)}else ProductList.html(""),jQuery2(".cart-sidebar").addClass("is_empty")}function cart_sidebar_update_totals(cart){jQuery2(".__subtotal").html(Shopify.formatMoney(cart.total_price)),jQuery2(".__total").html(Shopify.formatMoney(cart.total_price))}function cart_sidebar_update_dropdown(cart){if(cart.item_count>0)for(var i=0;i<cart.items.length;i++)jQuery2("#qty_"+cart.items[i].id).val(cart.items[i].quantity)}function cart_sidebar_update_quantity(product_id,quantity){cart_sidebar_open(),jQuery2.ajax({type:"POST",url:"/cart/change.js",data:"quantity="+quantity+"&id="+product_id,dataType:"json",success:function(){cart_sidebar_update()},error:function(xhr,text){jQuery2(".cart-sidebar-error-message").show(),jQuery2(".cart-sidebar-error-message").text(jQuery2.parseJSON(xhr.responseText).description),cart_sidebar_update(),jQuery2(".cart-sidebar .cart-sidebar-loading").hide()}})}jQuery2(document).delegate(".shoppingcart-item-qty","change",function(e){cart_sidebar_update_quantity(jQuery2(this).attr("data-id"),jQuery2(this).val())}),jQuery2(document).delegate(".shoppingcart-remove-item","click",function(e){cart_sidebar_open();var product_id=jQuery2(this).attr("data-id");jQuery2.ajax({type:"POST",url:"/cart/change.js",data:"quantity=0&id="+product_id,dataType:"json",success:function(){cold_pack_remove_init(),cart_sidebar_update()},error:function(xhr,text){jQuery2(".cart-sidebar-error-message").text(jQuery2.parseJSON(xhr.responseText).description),jQuery2(".cart-sidebar .cart-sidebar-loading").hide()}}),e.preventDefault()});function klaviyo(cart){__klaviyo(cart)}});
//# sourceMappingURL=/cdn/shop/t/8/assets/cart-sidebar.js.map?v=175533767926088751231688458321
